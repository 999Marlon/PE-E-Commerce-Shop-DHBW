<app-navbar></app-navbar>

<div class="container mt-5 py-5">
  <h2 class="display-5 fw-bold text-dark text-center mb-5">Meine Bestellungen</h2>

  <div class="text-center" *ngIf="orders.length === 0">
    <p class="lead text-muted">Sie haben noch keine Bestellungen.</p>
    <a routerLink="/products" class="btn btn-primary mt-3">
      <i class="bi bi-arrow-left"></i> Weiter einkaufen
    </a>
  </div>

  <div class="row g-4" *ngIf="orders.length > 0">
    <div class="col-lg-6" *ngFor="let order of orders">
      <div class="order-card p-4 rounded-4 shadow-sm">
        <h4 class="fw-bold bi bi-bag-check-fill"> Bestellung #{{ order.id }}</h4>
        <p class="mb-2">Status: <span class="badge text-dark">{{ order.status }}</span></p>
        <p class="text-muted small">Bestelldatum: {{ order.date }}</p>

        <div class="border p-3 rounded mt-3 bg-light">
          <h5 class="fw-bold"><i class="bi bi-truck"></i> Lieferadresse</h5>
          <p class="mb-0">{{ order.address.street }}, {{ order.address.city }}</p>
          <p>{{ order.address.postalCode }}, {{ order.address.country }}</p>
        </div>


        <table class="table table-borderless mt-3">
          <thead class="table-light">
            <tr>
              <th>Produkt</th>
              <th>Preis</th>
              <th class="text-center">Menge</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of order.products">
              <td>{{ item.name }}</td>
              <td class="text-success fw-bold">{{ item.price | currency:'EUR' }}</td>
              <td class="text-center">{{ item.quantity }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
